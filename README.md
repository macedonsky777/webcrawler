# Web Crawler üï∑Ô∏è

–®–≤–∏–¥–∫–∏–π —Ç–∞ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∏–π –≤–µ–±-–∫—Ä–∞—É–ª–µ—Ä, –Ω–∞–ø–∏—Å–∞–Ω–∏–π –Ω–∞ Go, —è–∫–∏–π –∑–¥–∞—Ç–µ–Ω –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ —Å–∫–∞–Ω—É–≤–∞—Ç–∏ –≤–µ–±-—Å–∞–π—Ç–∏ —Ç–∞ –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –¥–µ—Ç–∞–ª—å–Ω—ñ –∑–≤—ñ—Ç–∏ –ø—Ä–æ –≤–Ω—É—Ç—Ä—ñ—à–Ω—ñ –ø–æ—Å–∏–ª–∞–Ω–Ω—è.

## ‚ú® –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- **üöÄ –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ñ—Å—Ç—å**: –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î goroutines –¥–ª—è –ø–∞—Ä–∞–ª–µ–ª—å–Ω–æ–≥–æ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–æ–∫
- **üéØ –ö–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è**: –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –æ–¥–Ω–æ—á–∞—Å–Ω–∏—Ö –∑–∞–ø–∏—Ç—ñ–≤
- **üìä –†–æ–∑—É–º–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è**: –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ—ó –∫—ñ–ª—å–∫–æ—Å—Ç—ñ —Å—Ç–æ—Ä—ñ–Ω–æ–∫ –¥–ª—è —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è
- **üîí Thread-safe**: –ë–µ–∑–ø–µ—á–Ω–∞ —Ä–æ–±–æ—Ç–∞ –∑ –¥–∞–Ω–∏–º–∏ –≤ –±–∞–≥–∞—Ç–æ–ø–æ—Ç–æ—á–Ω–æ–º—É —Å–µ—Ä–µ–¥–æ–≤–∏—â—ñ
- **üìà –í—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω—ñ –∑–≤—ñ—Ç–∏**: –ö—Ä–∞—Å–∏–≤—ñ –∑–≤—ñ—Ç–∏ –∑ —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è–º –∑–∞ –ø–æ–ø—É–ª—è—Ä–Ω—ñ—Å—Ç—é —Ç–∞ –∞–ª—Ñ–∞–≤—ñ—Ç–æ–º
- **üåê –î–æ–º–µ–Ω-—Å–ø–µ—Ü–∏—Ñ—ñ—á–Ω–∏–π**: –°–∫–∞–Ω—É—î —Ç—ñ–ª—å–∫–∏ —Å—Ç–æ—Ä—ñ–Ω–∫–∏ –≤ –º–µ–∂–∞—Ö –æ–¥–Ω–æ–≥–æ –¥–æ–º–µ–Ω—É
- **‚ö° CLI —ñ–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –ü—Ä–æ—Å—Ç—ñ —Ç–∞ –≥–Ω—É—á–∫—ñ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω–∏–π —Ä—è–¥–æ–∫

## üõ†Ô∏è –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è

### –ü–µ—Ä–µ–¥—É–º–æ–≤–∏
- Go 1.21+ 
- –î–æ—Å—Ç—É–ø –¥–æ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É

### –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é
```bash
git clone https://github.com/yourusername/web-crawler-bootdev.git
cd web-crawler-bootdev
```

### –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
```bash
go mod tidy
```

### –ó–±—ñ—Ä–∫–∞
```bash
go build -o crawler
```

## üöÄ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

### –ë–∞–∑–æ–≤–∏–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
```bash
./crawler <URL> <maxConcurrency> <maxPages>
```

### –ü–∞—Ä–∞–º–µ—Ç—Ä–∏
- **URL**: –°—Ç–∞—Ä—Ç–æ–≤–∞ URL –¥–ª—è —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è (–æ–±–æ–≤'—è–∑–∫–æ–≤–∏–π)
- **maxConcurrency**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å –æ–¥–Ω–æ—á–∞—Å–Ω–∏—Ö HTTP –∑–∞–ø–∏—Ç—ñ–≤ (1-20)
- **maxPages**: –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ—Ä—ñ–Ω–æ–∫ –¥–ª—è —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è

### –ü—Ä–∏–∫–ª–∞–¥–∏ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è

#### –ë–∞–∑–æ–≤–µ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è
```bash
# –°–∫–∞–Ω—É–≤–∞—Ç–∏ –º–∞–∫—Å–∏–º—É–º 10 —Å—Ç–æ—Ä—ñ–Ω–æ–∫ –∑ 3 –æ–¥–Ω–æ—á–∞—Å–Ω–∏–º–∏ –∑–∞–ø–∏—Ç–∞–º–∏
./crawler "https://example.com" 3 10
```

#### –®–≤–∏–¥–∫–µ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è
```bash
# –í–∏—Å–æ–∫–æ—à–≤–∏–¥–∫—ñ—Å–Ω–µ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è –∑ 10 –æ–¥–Ω–æ—á–∞—Å–Ω–∏–º–∏ –∑–∞–ø–∏—Ç–∞–º–∏
./crawler "https://blog.example.com" 10 50
```

#### –û–±–µ—Ä–µ–∂–Ω–µ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è
```bash
# –ü–æ–≤—ñ–ª—å–Ω–µ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è –¥–ª—è –Ω–µ–≤–µ–ª–∏–∫–∏—Ö —Å–µ—Ä–≤–µ—Ä—ñ–≤
./crawler "https://small-site.com" 1 5
```

### –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–∏–π –∑–∞–ø—É—Å–∫
```bash
# –ë–µ–∑ –∑–±—ñ—Ä–∫–∏ (–ø—Ä—è–º–∏–π –∑–∞–ø—É—Å–∫)
go run . "https://example.com" 5 20
```

## üìã –ü—Ä–∏–∫–ª–∞–¥ –≤–∏–≤–æ–¥—É

```
starting crawl of: https://example.com
crawling: https://example.com
crawling: https://example.com/about
crawling: https://example.com/contact
crawling: https://example.com/blog
crawling: https://example.com/products

=============================
  REPORT for https://example.com
=============================
Found 45 internal links to https://example.com
Found 12 internal links to https://example.com/about
Found 8 internal links to https://example.com/blog
Found 3 internal links to https://example.com/contact
Found 2 internal links to https://example.com/products
```

## üèóÔ∏è –ê—Ä—Ö—ñ—Ç–µ–∫—Ç—É—Ä–∞

### –ö–ª—é—á–æ–≤—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏

#### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ `config`
```go
type config struct {
    pages              map[string]int    // –ó–±–µ—Ä—ñ–≥–∞—î –∫—ñ–ª—å–∫—ñ—Å—Ç—å –ø–æ—Å–∏–ª–∞–Ω—å –Ω–∞ –∫–æ–∂–Ω—É —Å—Ç–æ—Ä—ñ–Ω–∫—É
    baseURL            *url.URL          // –ë–∞–∑–æ–≤–∏–π URL –¥–æ–º–µ–Ω—É
    mu                 *sync.Mutex       // –ú—å—é—Ç–µ–∫—Å –¥–ª—è thread-safe –¥–æ—Å—Ç—É–ø—É
    concurrencyControl chan struct{}     // –ö–∞–Ω–∞–ª –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—é concurrency
    wg                 *sync.WaitGroup   // WaitGroup –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó goroutines
    maxPages           int               // –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —Å—Ç–æ—Ä—ñ–Ω–æ–∫
}
```

#### –û—Å–Ω–æ–≤–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
- `crawlPage()`: –†–µ–∫—É—Ä—Å–∏–≤–Ω–µ —Å–∫–∞–Ω—É–≤–∞–Ω–Ω—è —Å—Ç–æ—Ä—ñ–Ω–æ–∫ –∑ goroutines
- `normalizeURL()`: –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è URL –¥–ª—è —É–Ω–∏–∫–Ω–µ–Ω–Ω—è –¥—É–±–ª—ñ–∫–∞—Ç—ñ–≤
- `getHTML()`: HTTP –∑–∞–ø–∏—Ç–∏ –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é content-type
- `getURLsFromHTML()`: –ü–∞—Ä—Å–∏–Ω–≥ HTML —Ç–∞ –≤–∏—Ç—è–≥—É–≤–∞–Ω–Ω—è –ø–æ—Å–∏–ª–∞–Ω—å
- `printReport()`: –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –≤—ñ–¥—Å–æ—Ä—Ç–æ–≤–∞–Ω–∏—Ö –∑–≤—ñ—Ç—ñ–≤

## üîß –¢–µ—Ö–Ω—ñ—á–Ω—ñ –¥–µ—Ç–∞–ª—ñ

### –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω—ñ—Å—Ç—å
–ö—Ä–∞—É–ª–µ—Ä –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î –±—É—Ñ–µ—Ä–∏–∑–æ–≤–∞–Ω–∏–π –∫–∞–Ω–∞–ª –¥–ª—è –∫–æ–Ω—Ç—Ä–æ–ª—é –∫—ñ–ª—å–∫–æ—Å—Ç—ñ –æ–¥–Ω–æ—á–∞—Å–Ω–∏—Ö HTTP –∑–∞–ø–∏—Ç—ñ–≤:
```go
concurrencyControl: make(chan struct{}, maxConcurrency)
```

### –ë–µ–∑–ø–µ–∫–∞ –ø–æ—Ç–æ–∫—ñ–≤
–í—Å—ñ –æ–ø–µ—Ä–∞—Ü—ñ—ó –∑ —Å–ø—ñ–ª—å–Ω–æ—é –º–∞–ø–æ—é `pages` –∑–∞—Ö–∏—â–µ–Ω—ñ –º—å—é—Ç–µ–∫—Å–æ–º –¥–ª—è –∑–∞–ø–æ–±—ñ–≥–∞–Ω–Ω—è race conditions.

### –ù–æ—Ä–º–∞–ª—ñ–∑–∞—Ü—ñ—è URL
- –í–∏–¥–∞–ª–µ–Ω–Ω—è trailing slashes
- –ü—Ä–∏–≤–µ–¥–µ–Ω–Ω—è –¥–æ –Ω–∏–∂–Ω—å–æ–≥–æ —Ä–µ–≥—ñ—Å—Ç—Ä—É —Ö–æ—Å—Ç—É
- –û—á–∏—â–µ–Ω–Ω—è —à–ª—è—Ö—ñ–≤

### –û–±–º–µ–∂–µ–Ω–Ω—è
- –°–∫–∞–Ω—É—î —Ç—ñ–ª—å–∫–∏ HTML —Å—Ç–æ—Ä—ñ–Ω–∫–∏ (—ñ–≥–Ω–æ—Ä—É—î XML, JSON —Ç–æ—â–æ)
- –ü—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏ –≤ –º–µ–∂–∞—Ö –æ–¥–Ω–æ–≥–æ –¥–æ–º–µ–Ω—É
- –†–µ—Å–ø–µ–∫—Ç—É—î –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è maxPages —Ç–∞ maxConcurrency

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
web-crawler-bootdev/
‚îú‚îÄ‚îÄ main.go                 # –¢–æ—á–∫–∞ –≤—Ö–æ–¥—É —Ç–∞ CLI logic
‚îú‚îÄ‚îÄ normalize_url.go        # –û—Å–Ω–æ–≤–Ω–∞ –ª–æ–≥—ñ–∫–∞ –∫—Ä–∞—É–ª–µ—Ä–∞
‚îú‚îÄ‚îÄ normalize_url_test.go   # Unit —Ç–µ—Å—Ç–∏
‚îú‚îÄ‚îÄ go.mod                  # Go –º–æ–¥—É–ª—å —Ç–∞ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
‚îú‚îÄ‚îÄ go.sum                  # Checksums –∑–∞–ª–µ–∂–Ω–æ—Å—Ç–µ–π
‚îî‚îÄ‚îÄ README.md              # –¶–µ–π —Ñ–∞–π–ª
```

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è

### –ó–∞–ø—É—Å–∫ unit —Ç–µ—Å—Ç—ñ–≤
```bash
go test -v
```

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç—É
```bash
go test -v -run TestNormalizeURL
```

## ‚ö†Ô∏è –û–±–º–µ–∂–µ–Ω–Ω—è —Ç–∞ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó

### –û–±–º–µ–∂–µ–Ω–Ω—è
- –ù–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î JavaScript-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥
- –ù–µ –æ–±—Ä–æ–±–ª—è—î —Ä–µ–¥–∏—Ä–µ–∫—Ç–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ
- –û–±–º–µ–∂–µ–Ω–∏–π –æ–¥–Ω–∏–º –¥–æ–º–µ–Ω–æ–º

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü—ñ—ó
- –ü–æ—á–∏–Ω–∞–π—Ç–µ –∑ –Ω–µ–≤–µ–ª–∏–∫–∏—Ö –∑–Ω–∞—á–µ–Ω—å concurrency (1-3)
- –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ä–æ–∑—É–º–Ω—ñ –æ–±–º–µ–∂–µ–Ω–Ω—è maxPages
- –ë—É–¥—å—Ç–µ –æ–±–µ—Ä–µ–∂–Ω—ñ –∑ –≤–µ–ª–∏–∫–∏–º–∏ —Å–∞–π—Ç–∞–º–∏
- –†–µ—Å–ø–µ–∫—Ç—É–π—Ç–µ robots.txt (—Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª –Ω–µ —Ä–µ–∞–ª—ñ–∑–æ–≤–∞–Ω–∏–π)

## ü§ù –†–æ–∑—Ä–æ–±–∫–∞

–¶–µ–π –ø—Ä–æ–µ–∫—Ç —Å—Ç–≤–æ—Ä–µ–Ω–∏–π —è–∫ —á–∞—Å—Ç–∏–Ω–∞ –∫—É—Ä—Å—É [Boot.dev](https://boot.dev) –¥–ª—è –≤–∏–≤—á–µ–Ω–Ω—è:
- Go programming language
- –ö–æ–Ω–∫—É—Ä–µ–Ω—Ç–Ω–æ—Å—Ç—ñ —Ç–∞ goroutines
- HTTP –∫–ª—ñ—î–Ω—Ç—ñ–≤
- HTML –ø–∞—Ä—Å–∏–Ω–≥—É
- CLI —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ñ–≤

## üìÑ –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT License - –¥–µ—Ç–∞–ª—ñ –≤ —Ñ–∞–π–ª—ñ LICENSE

## üôè –ü–æ–¥—è–∫–∏

- [Boot.dev](https://boot.dev) –∑–∞ —á—É–¥–æ–≤–∏–π –∫—É—Ä—Å
- Go –∫–æ–º–∞–Ω–¥–∞ –∑–∞ –ø–æ—Ç—É–∂–Ω—É –º–æ–≤—É –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è
- Golang.org/x/net –∑–∞ HTML –ø–∞—Ä—Å–∏–Ω–≥